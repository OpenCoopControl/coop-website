---
title: Подешавање хардвера
description: Комплетно упутство за повезивање хардверских компоненти у систему OpenCoopControl.
---

Ово упутство покрива потребне хардверске компоненте за OpenCoopControl систем и како их правилно повезати.

## Потребне компоненте

За израду комплетног OpenCoopControl система потребне су следеће компоненте:

### Основне компоненте

- ESP32 развојна плоча (препоручује се ESP32-WROOM-32)
- Micro USB кабл за програмирање и напајање
- 5V напајање (препоручује се 2A или више)
- Breadboard или штампана плоча (PCB) за прототип/финалну монтажу
- Повезни каблови (jumper wires)

### Погонски уређаји

- Серво мотор за управљање вратима (MG996R или сличан, са високим обртним моментом)
- DC мотор са редуктором за хранилицу (12V, уз L298N драјвер)
- Опционо: релеј модул за управљање додатним уређајима

### Сензори

- Температурни сензор DHT22 или DS18B20
- Фотоотпорник (LDR) за мерење осветљености
- Сензор нивоа воде (плутајући прекидач или капацитивни)
- Опционо: сензор кише

### Кориснички интерфејс

- Тастери за ручну контролу
- Статусне LED диоде

### Механички делови

- Монтажни материјал (шрафови, дистанцери, кућиште)
- Механизам за врата (шарке, шине, у зависности од конструкције)
- Механизам за храњење (цев, резервоар, вијак за дозирање)

## Шема повезивања

Повежите компоненте према следећој табели:

| Компонента          | ESP32 пин | Опис                             |
| ------------------- | --------- | -------------------------------- |
| Температурни сензор | GPIO 32   | Аналогни улаз                    |
| Сензор светла       | GPIO 33   | Аналогни улаз                    |
| Серво за врата      | GPIO 13   | PWM излаз                        |
| Мотор хранилице     | GPIO 12   | Дигитални излаз (преко драјвера) |
| Сензор воде         | GPIO 34   | Аналогни улаз                    |
| Тастер за врата     | GPIO 14   | Дигитални улаз (pull-up)         |
| Статусна LED        | GPIO 2    | Дигитални излаз (уграђена)       |

## Детаљна упутства за повезивање

### ESP32 подешавање

1. Поставите ESP32 на breadboard или PCB
2. Повежите 5V напајање на 5V и GND пинове
3. Уверите се да је USB порт доступан за програмирање

### Контрола врата

1. Повежите серво мотор:

   - Црвена жица на 5V
   - Црна/браон жица на GND
   - Жута/наранџаста/бела жица на GPIO 13

2. Монтирајте серво на механизам врата тако да:

   - Има довољно снаге за отварање/затварање
   - Има правилан опсег кретања (обично 90 степени)
   - Буде заштићен од временских услова

3. Повежите тастер за ручну контролу:
   - Један крај на GPIO 14
   - Други крај на GND
   - Активирајте интерни pull-up у коду

### Систем храњења

1. Повежите L298N драјвер мотора:

   - VCC драјвера на 5V
   - GND драјвера на GND
   - IN1 драјвера на GPIO 12
   - IN2 драјвера на GND (или на други GPIO за двосмерну контролу)
   - Напајање мотора на улаз за мотор на драјверу

2. Монтирајте мотор на механизам храњења, на пример:
   - Вијак за дозирање хране
   - Ротациони диск са отвором
   - Механизам са капком

### Сензори

1. Температурни сензор (пример DHT22):

   - VCC на 3.3V
   - GND на GND
   - Data на GPIO 32
   - 10K отпорник између VCC и Data

2. Сензор светла (фотоотпорник):

   - Једна нога на 3.3V
   - Друга нога на GPIO 33 и преко 10K отпорника на GND (напонски делилац)

3. Сензор нивоа воде:
   - Напајање на 3.3V
   - GND на GND
   - Сигнал на GPIO 34

## Кућиште и заштита од временских услова

Пошто ће систем бити напољу, важно је да:

1. Електроника буде у водоотпорном кућишту (IP65 или боље)
2. Спољашње везе користе водоотпорне конекторе
3. Постоји вентилација ради спречавања кондензације, али да буде заштићена од кише
4. Кућиште буде монтирано тако да није директно изложено киши или сунцу

## Напајање

1. **Главно напајање**: Систем може да се напаја преко:

   - USB power bank-а за привремене инсталације
   - 5V адаптера за сталне инсталације
   - Соларног панела са контролером пуњења и батеријом за off-grid решења

2. **Резервно напајање**: Размислите о додавању батерије као резерва у случају нестанка струје.

3. **Штедња енергије**: ESP32 може да се подеси на deep sleep режим ради уштеде енергије у системима са батеријом.

## Тестирање хардвера

Пре монтаже система у кокошињац:

1. Тестирајте сваку компоненту појединачно
2. Тестирајте цео систем у firmware test моду
3. Проверите да ли тастери раде исправно
4. Проверите да ли сензори дају разумне вредности
5. Проверите да ли актуатори (серво, мотор) раде слободно и снажно

## Следећи кораци

Када је хардвер спреман:

1. [Инсталирајте фирмвер](../installation) на ESP32
2. Подесите систем преко web интерфејса
3. Тестирајте све аутоматизоване функције у контролисаним условима пре имплементације

За решавање проблема погледајте наш [Водич за решавање проблема](/sr/usage-guide/troubleshooting).

## Прилагођавања

Систем OpenCoopControl је дизајниран да буде модуларни и прилагодљив. Можете:

- Додати нове сензоре (влажност, амонијак, покрет)
- Проширити са новим излазима (светла, грејачи, вентилатори)
- Модификовати механизам врата или хранилице у складу са вашом конструкцијом

Само обавезно ажурирајте pin конфигурацију у фирмверу у складу са изменама хардвера.

```

```
