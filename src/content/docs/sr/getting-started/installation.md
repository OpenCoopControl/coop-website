---
title: Инсталирање OpenCoopControl
description: Упутство за флешовање OpenCoopControl фирмвера на ESP32 уређај
---

# Флешовање OpenCoopControl

Ово упутство ће вам помоћи да флешујете OpenCoopControl фирмвер на ваш ESP32 уређај.

## Предуслови

1. ESP32 развојна плоча
2. USB кабл за повезивање плоче са рачунаром
3. Инсталиран Python на рачунару

## Методе инсталације

### Метод 1: Коришћење готових верзија (Препоручено за већину корисника)

1. Идите на [страницу са издањима](https://github.com/OpenCoopControl/coop-controller/releases) репозиторијума
2. Преузмите најновије датотеке:

   - За Windows: `flash_opencoopcontrol_vX.Y.Z.bat`
   - За Linux/Mac: `flash_opencoopcontrol_vX.Y.Z.sh`
   - Бинарне датотеке:
     - `opencoopcontrol_vX.Y.Z_firmware.bin` (Главни фирмвер)
     - `opencoopcontrol_vX.Y.Z_spiffs.bin` (Фајл систем)
     - `bootloader.bin` (Потребан за комплетну инсталацију)
     - `partitions.bin` (Потребан за комплетну инсталацију)

3. Инсталирајте esptool:
   ```bash
   pip install esptool
   ```

````

4. Повежите ESP32 са рачунаром
5. Покрените скрипту за флешовање:
   - На Windows-у: двапут кликните на `.bat` фајл и пратите упутства
   - На Linux/Mac:
   ```bash
   chmod +x flash_opencoopcontrol_vX.Y.Z.sh
   ./flash_opencoopcontrol_vX.Y.Z.sh
   ```
6. Изаберите режим флешовања:
   - **Опција 1: Само ажурирање фирмвера** – Задржава WiFi подешавања и конфигурације
   - **Опција 2: Потпуна инсталација** – Брише сва подешавања и враћа уређај на фабричка подешавања

### Метод 2: Компилација из извора (за програмере)

Ако желите сами да компајлирате фирмвер:

1. Инсталирајте PlatformIO:
   ```bash
   pip install platformio
   ```
2. Клонирајте репозиторијум:
   ```
   git clone https://github.com/OpenCoopControl/coop-controller.git
   cd coop-controller
   ```
3. Компилујте и отпремите:
   `platformio run --target upload`
4. Отпремите фајл систем (садржи веб интерфејс):
   `platformio run --target uploadfs`

# Решавање проблема

### Чести проблеми

1. Дозвола одбијена на Linux/Mac:

```
sudo chmod a+rw /dev/ttyUSB0  # Замените са вашим портом!
```

2. Windows не проналази COM порт:
   - Проверите Device Manager да пронађете исправан COM порт
   - Измените .bat фајл да унесете тачан број порта
3. Проблеми са повезивањем:
   - Уверите се да је ESP32 у download режиму (држите BOOT дугме при повезивању или ресетовању)
   - Пробајте други USB кабл или порт
4. Неуспешно флешовање:
   - Пробајте спорију брзину преноса тако што измените скрипту да користи `--baud 115200` уместо `921600`
5. Уређај се не повезује на WiFi након флешовања:
   - Ако сте изабрали "Само ажурирање фирмвера", а имате проблеме, пробајте "Потпуну инсталацију"
   - Након потпуне инсталације, уређај ће направити WiFi мрежу под именом "OpenCoop-[ID]"

### Сигнали преко LED диоде

- Када је ESP32 исправно флешован, уграђени LED ће кратко засветлети при покретању
- Ако LED стално светли, уређај је у режиму подешавања

### Након флешовања

Прво подешавање или након потпуне инсталације:

- ESP32 ће направити WiFi приступну тачку под именом "OpenCoop-[ID]"
- Повежите се на ту мрежу телефоном или рачунаром
- Отворите интернет прегледач и идите на http://192.168.4.1
- Пратите чаробњака за подешавање до краја

### Након само ажурирања фирмвера

- Уређај ће се аутоматски повезати на претходно коришћену WiFi мрежу
- Приступите веб интерфејсу преко IP адресе коју је уређај добио на вашој мрежи

```

```
````
